

\newcommand{\vv}[1]{\vec{#1}} 
\newcommand{\bb}[1]{\mathbb{#1}} 
\newcommand{\suchthat}{\,|\,} 


\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{bubbles}{rgb}{0.91, 1.0, 1.0}
\definecolor{cosmiclatte}{rgb}{1.0, 0.97, 0.91}



\newcounter{QuestionCounter}
\newcommand{\questionTitle}{\color{blue}\vspace{10pt}\noindent\textbf{\refstepcounter{QuestionCounter}Domanda n.\theQuestionCounter}}

\newcounter{NoteCounter}
\newcommand{\noteTitle}{\color{Green}\vspace{10pt}\noindent\textbf{\refstepcounter{NoteCounter}Nota n.\theNoteCounter }}

\newcommand{\nota}[1]{%
\ifnum0=\noteEnabled\relax
\else
    \noteTitle{}
    \textit{#1}
    \color{black}
\fi
}

\newcommand{\domanda}[1]{%
\ifnum0=\questionEnabled\relax
\else
    \questionTitle{}
    \textit{#1}
    \color{black}
\fi
}

% Definizione stile per MATLAB
\lstdefinestyle{MatlabStyle}{
  language=Matlab,
  basicstyle=\ttfamily\small,
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{gray}\itshape,
  stringstyle=\color{red},
  numbers=left,
  numberstyle=\tiny\color{gray},
  stepnumber=1,
  numbersep=5pt,
  frame=single,
  breaklines=true,
  tabsize=4,
  showstringspaces=false
}

% Definizione stile per Python
\definecolor{codebg}{rgb}{0.95,0.95,0.95}
\definecolor{commentgreen}{rgb}{0,0.5,0}
\definecolor{stringred}{rgb}{0.7,0.1,0.1}
\definecolor{keywordblue}{rgb}{0.0,0.0,0.6}

\lstdefinestyle{PythonStyle}{
  language=Python,
  backgroundcolor=\color{codebg},
  basicstyle=\ttfamily\small,
  keywordstyle=\color{keywordblue}\bfseries,
  commentstyle=\color{commentgreen}\itshape,
  stringstyle=\color{stringred},
  numbers=left,
  numberstyle=\tiny\color{gray},
  stepnumber=1,
  numbersep=8pt,
  frame=single,
  rulecolor=\color{gray},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=4,
  showstringspaces=false,
  captionpos=b
}

\lstdefinelanguage{json}{
    basicstyle=\ttfamily\footnotesize,
    numbers=left,
    numberstyle=\tiny\color{gray},
    stepnumber=1,
    numbersep=5pt,
    showstringspaces=false,
    breaklines=true,
    frame=single,
    backgroundcolor=\color{gray!10},
    literate=
     *{0}{{{\color{blue}0}}}{1}
      {1}{{{\color{blue}1}}}{1}
      {2}{{{\color{blue}2}}}{1}
      {3}{{{\color{blue}3}}}{1}
      {4}{{{\color{blue}4}}}{1}
      {5}{{{\color{blue}5}}}{1}
      {6}{{{\color{blue}6}}}{1}
      {7}{{{\color{blue}7}}}{1}
      {8}{{{\color{blue}8}}}{1}
      {9}{{{\color{blue}9}}}{1}
      {:}{{{\color{red}:}}}{1}
      {,}{{{\color{red},}}}{1}
      {"}{{{\color{orange}"}}}{1},
}


\newcounter{AlgorithmCounter}[chapter] % defines algorithm counter for chapter-level
\renewcommand{\theAlgorithmCounter}{\thechapter .\arabic{AlgorithmCounter}} %defines appearance of the algorithm counter
\DeclareCaptionLabelFormat{algocaption}{Algoritmo \theAlgorithmCounter} % defines a new caption label as Algorithm x.y

\lstnewenvironment{algorithm}[1][] %defines the algorithm listing environment
{   
    \refstepcounter{AlgorithmCounter} %increments algorithm number
    \captionsetup{labelformat=algocaption,labelsep=colon,font={normalsize}} %defines the caption setup for: it ises label format as the declared caption label above and makes label and caption text to be separated by a ':'
    \lstset{ %this is the stype
        backgroundcolor = \color{white},
        mathescape=true,
        frame=tb,
        numberstyle=\small, 
        basicstyle=\rmfamily,
        numbers=left,
        keywordstyle=\color{black}\bfseries,
        keywords={, for, input, output, return, for, and, or, to, datatype, function, goto, in, if, else, foreach, while, begin, end, } %add the keywords you want, or load a language as Rubens explains in his comment above.
        numbers=left,
        xleftmargin=.04\textwidth,
        #1}}{}% this is to add specific settings to an usage of this environment (for instnce, the caption and referable label)


\newcounter{CodeCounter}[chapter] 
\renewcommand{\theCodeCounter}{\thechapter .\arabic{CodeCounter}} 
\DeclareCaptionLabelFormat{palgocaption}{Codice \theCodeCounter} 

\lstnewenvironment{pcode}[1][] 
{   
    \refstepcounter{CodeCounter}
    \captionsetup{labelformat=palgocaption,labelsep=colon,font={normalsize}} 
    \lstset{ 
        backgroundcolor=\color{backcolour},
        commentstyle=\color{Emerald},
        keywordstyle=\bfseries\color{RoyalBlue},
        numberstyle=\small\color{codegray},
        stringstyle=\color{codepurple},
        basicstyle=\sffamily\small,
        breakatwhitespace=false,         
        breaklines=true,                                   
        keepspaces=true,                 
        numbers=left,                    
        numbersep=5pt,                  
        showspaces=false,                
        showstringspaces=false,
        showtabs=false,                  
        tabsize=2,
        language =yaml, 
        numbers=left,
        xleftmargin=.04\textwidth,
        #1}}{}



\theoremstyle{plain}
\newtheorem{proteorema}{Teorema}[chapter]
\theoremstyle{plain}
\newtheorem{prolemma}{Lemma}[chapter]
\theoremstyle{definition}
\newtheorem{prodefinizione}{Definizione}[chapter]
\theoremstyle{remark}
\newtheorem*{dimostrazione}{Dimostrazione}

\newenvironment{teorema}[2]
    {\begin{proteorema}[#1]
    \label{#2}
    }
    { 
    \end{proteorema}
    }

\newenvironment{lemma}[2]
    {\begin{prolemma}[#1]
    \label{#2}
    }
    { 
    \end{prolemma}
    }

\newenvironment{definizione}[2]
    {\begin{prodefinizione}[#1]
    \label{#2}
    }
    { 
    \end{prodefinizione}
    }

\newcommand{\frontespizio}[6]{
\pagenumbering{gobble} 
\setlength\intextsep{0pt}
\begin{wrapfigure}[4]{l}{5\baselineskip}
    \vspace{-0.25\baselineskip}
    \includegraphics[width=5\baselineskip]{Immagini/Speciali/fronte/logo_bicocca.png}
\end{wrapfigure}

\noindent
\textsc{Universit√† degli Studi di Milano Bicocca} \\[8pt]
\textbf{Scuola di Scienze} \\[8pt]
\textbf{Dipartimento di Informatica, Sistemistica e Comunicazione}\\[8pt]
\textbf{Corso di laurea in Informatica}

\vspace{25mm}

\begin{center}
    \Huge
    \textbf{#1}
\end{center}

\vspace{50mm}

\large
\noindent
\textbf{Relatore:} #2 \\[7pt]
\textbf{Co-relatore:} #3 \\[20pt]

\begin{flushright}
    \textbf{Relazione della prova finale di:} \\[7pt]
    #4 \\[7pt]
    Matricola #5
\end{flushright}

\vspace{35mm}


\begin{Center}
\textbf{Anno Accademico #6}
\end{Center}
\newpage
}